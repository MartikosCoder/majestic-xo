(function(e){function t(t){for(var s,a,c=t[0],r=t[1],A=t[2],d=0,u=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&u.push(i[a][0]),i[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);l&&l(t);while(u.length)u.shift()();return o.push.apply(o,A||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,c=1;c<n.length;c++){var r=n[c];0!==i[r]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},o=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var A=0;A<c.length;A++)t(c[A]);var l=r;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"073c":function(e,t,n){},"348c":function(e,t,n){},"3b09":function(e,t,n){"use strict";n("073c")},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("7a23");function i(e,t,n,i,o,a){const c=Object(s["k"])("Panel"),r=Object(s["k"])("Field");return Object(s["h"])(),Object(s["c"])(s["a"],null,[Object(s["e"])(c),Object(s["e"])(r)],64)}var o=n("df84"),a=n.n(o),c=n("88ae"),r=n.n(c),A=n("ffc4"),l=n.n(A);const d={class:"score"},u={class:"current"},g={class:"best"},h={class:"controls"},b=Object(s["d"])("img",{src:a.a,alt:""},null,-1),f=[b],p=Object(s["d"])("img",{src:r.a,alt:""},null,-1),k=[p],O=Object(s["d"])("img",{src:l.a,alt:""},null,-1),m=[O];function S(e,t,n,i,o,a){return Object(s["h"])(),Object(s["c"])("nav",null,[Object(s["d"])("section",d,[Object(s["d"])("div",u,"Current: "+Object(s["l"])(e.allScore.score),1),Object(s["d"])("div",g,"Best: "+Object(s["l"])(e.allScore.bestScore),1)]),Object(s["d"])("section",h,[Object(s["d"])("div",{class:Object(s["g"])(["controls-btn play",{disabled:1===e.gameState}]),onClick:t[0]||(t[0]=(...t)=>e.start&&e.start(...t))},f,2),Object(s["d"])("div",{class:Object(s["g"])(["controls-btn pause",{disabled:0===e.gameState}]),onClick:t[1]||(t[1]=(...t)=>e.pause&&e.pause(...t))},k,2),Object(s["d"])("div",{class:Object(s["g"])(["controls-btn reset",{disabled:-1===e.gameState}]),onClick:t[2]||(t[2]=(...t)=>e.reset&&e.reset(...t))},m,2)])])}var j=n("5502"),y={name:"Panel",computed:{...Object(j["c"])(["allScore","gameState"])},methods:{...Object(j["b"])(["start","pause","reset"])}},C=(n("eb5d"),n("6b0d")),B=n.n(C);const v=B()(y,[["render",S]]);var E=v;function T(e,t,n,i,o,a){return Object(s["h"])(),Object(s["c"])("main",null,[(Object(s["h"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(o.field,(e,t)=>(Object(s["h"])(),Object(s["c"])("div",{class:"row",key:"r-"+t},[(Object(s["h"])(!0),Object(s["c"])(s["a"],null,Object(s["j"])(e,(e,t)=>(Object(s["h"])(),Object(s["c"])("div",{class:Object(s["g"])(["block",{"snake-head":1===e,"snake-body":2===e,point:3===e}]),key:"r-c-"+t},null,2))),128))]))),128))])}n("caad");var w={name:"Field",data(){return{field:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],snakeHead:{x:0,y:0},snakeBody:[],points:[],allowedKeys:["w","a","s","d"],direction:null,pointsLimit:3,gameTimer:null}},created(){this.snakeHead=this.getRandomPoint(),this.field[this.snakeHead.y][this.snakeHead.x]=1,window.addEventListener("keyup",this.initLogic),this.gameTimer=setInterval(()=>{this.gameTick()},750)},methods:{...Object(j["b"])(["addScore","resetScore"]),getRandomInt(e,t){const n=e+Math.random()*(t+1-e);return Math.floor(n)},initLogic(e){this.allowedKeys.includes(e.key)&&(this.direction=e.key)},getRandomPoint(){return{x:this.getRandomInt(0,3),y:this.getRandomInt(0,3)}},collidePoints(e,t){return e.x===t.x&&e.y===t.y},gameTick(){const e={...this.snakeHead},t=this.snakeBody.length?{...this.snakeBody[this.snakeBody.length-1]}:null;"w"===this.direction&&this.snakeHead.y--,"a"===this.direction&&this.snakeHead.x--,"s"===this.direction&&this.snakeHead.y++,"d"===this.direction&&this.snakeHead.x++;const n=this.snakeHead.x>3||this.snakeHead.x<0||this.snakeHead.y>3||this.snakeHead.y<0,s=this.snakeBody.some(e=>e.x===this.snakeHead.x&&e.y===this.snakeHead.y);if(n||s)return clearInterval(this.gameTimer),void this.resetScore();if(this.snakeBody.length){for(let e=this.snakeBody.length-1;e>0;e--)this.snakeBody[e]={...this.snakeBody[e-1]};this.snakeBody[0]=e}const i=this.getRandomInt(0,100);if(i>75&&this.points.length<this.pointsLimit){let e=this.getRandomPoint();!this.collidePoints(e,this.snakeHead)&&this.snakeBody.every(t=>!this.collidePoints(e,t))&&this.points.every(t=>!this.collidePoints(e,t))&&this.points.push(e)}for(const o in this.points)this.collidePoints(this.points[o],this.snakeHead)&&(this.addScore(),this.points.splice(o,1),this.snakeBody.push(t||e));this.render()},render(){this.field=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.field[this.snakeHead.y][this.snakeHead.x]=1;for(const e of this.snakeBody)this.field[e.y][e.x]=2;for(const e of this.points)this.field[e.y][e.x]=3}}};n("3b09");const H=B()(w,[["render",T]]);var R=H,P={name:"App",components:{Panel:E,Field:R}};n("ec1c");const F=B()(P,[["render",i]]);var Q=F,U=Object(j["a"])({state:{score:0,bestScore:0,gameState:0},mutations:{ADD_SCORE(e){e.score++},RESET_SCORE(e){e.bestScore=e.score,e.score=0},SET_GAME_STATE(e,t){e.gameState=t}},getters:{allScore(e){return{score:e.score,bestScore:e.bestScore}},gameState(e){return e.gameState}},actions:{addScore({commit:e}){e("ADD_SCORE")},resetScore({commit:e}){e("RESET_SCORE")},start({commit:e,state:t}){1!==t.gameState&&e("SET_GAME_STATE",1)},pause({commit:e,state:t}){0!==t.gameState&&e("SET_GAME_STATE",0)},reset({commit:e,state:t}){-1!==t.gameState&&e("SET_GAME_STATE",-1)}}});Object(s["b"])(Q).use(U).mount("#app")},"88ae":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAAjklEQVR4nO3QwQ2AMAwEwYT+ezY1kM8g2Hlb8mnXSpIkf7WfHM/MHD/a+5W/rtMnX1EAPUArgB6gFUAP0AqgB2gF0AO0AugBWgH0AK0AeoBWAD1AK4AeoBVAD9AKoAdoBdADtALoAVoB9ACtAHqAVgA9QCuAHqAVQA/QCqAHaAXQA7QC6AFaAfSAJEkS5Qb5LghgahDENAAAAABJRU5ErkJggg=="},9624:function(e,t,n){},df84:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAC0ElEQVR4nO2bS2gVZxhAzyepraCS0oQKSrGI0KbVTaDQhVTMogtXLro03TUN0gdk0WVb2kXd2S4UdypdNauufMQiYkARIk1aqqEIodkopo9FIKClp4vLUKUa7tyZufNwznr+73HuP3funfkGWlpaWlpanloiy2J1K7ATeADcjoj7uVRVddRh9bS65n/8oX6pbim7vkJRd6jLPpll9VDZdRaGOrNO8w/zvfpS2fXmivpal80nrKpT6kDZteeCOp5SQMK8+mbZ9T+ODSmPf6HHPHuBWfW4OthjjEJIKyDLZXMDMAncVMczxMmVtALyYBtwWr2kvlJC/kcoQ0DCfuCG+pn6bFlFlCkAYBPwKfCTOlZGAWULSNgNzKhn1OF+Jq6KAOh8wR4GFtX31Ez/U7qlSgISngdOApfVkaKTVVFAwj7gR/Ur9bmiklRZAMAzwCfAz+rbRSSouoCEXcA59Tv1xTwD10VAwjvALfUjNZfa6yYAYBA4BlxXR7MGq6OAhFHgmvq1urnXIHUWADAAfAgsqPt6CVB3AQkvAxfVg2kXNkUAwEbglClvyjZJAMAQnStF1zRNAHTuPnVNEwWkookC5tMc3DQBK8B0mgVNEnAfGI+I1TSLmiJgCRiLiLNpF9ZdwN/AN8CeiJjtJUCdH1nNARMRMZclSB13wF/Ax8AbWZuH+u2AaeCDiLibV8C6CLgNHImI83kHrvop8AA4CrxeRPNQ7R1wBXg/In4pMkkVd8CfwATwVtHNQ7V2gMC3wFRE3OtX0qoI+BWYjIgf+p247FNgDficzi+5vjcP5e6AS3Q+9cUSayhlB9wB3o2IA2U3D+kFmCHXP8AJ4NWIOJMhTq6kPQV+7zHPAp1r+tUe11cDdSTlfGCzBiUB1AtdNt+8UVkAdbv62zqNN3tYGkAd8v/j8ivqF9ZsXD7rCxOb6QwvrAFLT80LEy0tLS0tLc3gX8RFMx0oFldfAAAAAElFTkSuQmCC"},eb5d:function(e,t,n){"use strict";n("348c")},ec1c:function(e,t,n){"use strict";n("9624")},ffc4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEJklEQVR4nO2aTYhWVRjH/8e35kPHkSZIcowig6CFi8BFm+ljSoOgkmgVbUqiRUISuVIriGiKLBLEYFQoqk1ECymKKKI22Qe4qcg0wtGccdQW5jjOvPNrce7Em/Pec8+599z3jnF/u3mfc5/n/5xz5nxLNTU1NTU1NTWXAcDTwC/AJ8CqqvV0FOAR/su7MfyaGE5CABqSVku6UVK3pFlJM5ImJB02xsy2+WaNpB8l9bf8/Leka4wx50sXXQSgG9gI7AF+AqZJ5wLwfVL2LqABdAEHU8pvrDq/VIDrgDeAM46EszgBfOWwv1N1ngsA+oGduFs6FmeBK6vO+V+AYWCsA4m3sqGI5iURk98m6TNJg7F8elLtOAAsAd7qcKu3chLI3ZCFpkHASNot6cnAT5uSjkk6nfy9UtK1kho5pQwZY77O+W1+gGcDWuoY8CZ2nOhu46sXuB+YydELdlaR/O3ArIe4CeApPEZr4P0cyQP8ju2NnQHoA456CPsA6M/2KAGP5Ux+nlvLzrtV7EsZYuaAF/BsFeB64FzBCnix7Lznxa4CzscUQ/HWBziQJ58808dmSb0O+0eSdgT6PCjpYg4trXyb56OggQPoknRC0tUpRc5KuskYcyZUCHZF96ikrsBPm7LJ7zLGNEPjBgHcl9ENt5QqoGqw29Q0xpMeclkROgYMOWwfGmOK/h8vXoCl2OktjeGqNebhioCya+QeNL8rqCUYYJnsPuQOSX9J2m+M+aKsYPc4Wn+ylKBuPX3AoUt0zAGbQ/yEjAF9DttYSNBIPCNp7SW/GUmvAGnT9AJCKgCHrSfATyzuTPm9R9I6XychFXDOYRsI8BOLmx22GV8nIRXwp8M2ACwN8FWIZPBb6Sgy7usrpAKOSJpLsTXkXiPEZp3SZ6SmrFYvvCvAGHNB0q+OIut9fUXgQYftsDFmytdR6ErwS4ftYdocdcUmWW4/5Cji0riA0Ar41GFbLWlToL88bEpipfFxaZGx93STjgXRGLC8xPgrgOOuBRmBG7KgHpBsdlz3cYOS9lHeAeWoJNe7gH2lb8iAQewtroutJcTdmhFzCujMrRTweoaYOeD5WD0B2J4RD2AkRixfQf3Yi44s3gauKhBnAHjPI84RPI/fowHcCzQ9xJ0CngC8t95AD/A49n1AFtOA99o/KsBzHgLnGQd2AUPAija+lgEbgJGkrC/VnUMCBtgbILaVCeAH4Lck4Ys5fIzSySuxlEpoAPtzVkIRRilwLR4VbE/YgfvMMBZNYHvVObcFuBu/2SEvYyz2w1fscnUEuzCJxRTwGiUus6ODfSb3MnC6QOKngFcpcYVX+giK3SIPS3pA0m2SblH6U5impJ8lfSPpgKTPjTHTZeqr4qlsr6QbZDdO86vESUknJf2x6J++1tTU1NTU1NTU/E/4ByXAK3f/hXgjAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=app.f4ec488b.js.map